"use strict";(function(){document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault(),document.querySelector(this.getAttribute("href")).scrollIntoView({behavior:"smooth"})})});const g=document.getElementById("carousel-picker");var t,s,o,a,l,d=0,e=null;const c=(e,t)=>{if(console.assert(t!==0[0]),e!=null&&e.childNodes!=null&&e.childNodes[0]!=null&&e.childNodes[0].classList!=null){const n="selected";let s=e.childNodes[0].classList;t===!0?s.add(n):s.remove(n)}},w=1e4;let i=document.getElementById("carousel-view"),O=t=>{t.preventDefault(),t.currentTarget!=e&&c(e,!1),c(t.currentTarget,!0),e=t.currentTarget;let n=document.querySelector(e.getAttribute("href"));i.scrollLeft=n.offsetLeft,s()};t=[];let f=0[0];i.addEventListener("scroll",e=>{let n=Math.floor(i.scrollLeft/i.clientWidth);n<t.length&&(clearTimeout(f),f=setTimeout(()=>{t[n].click()},50)),s()}),document.querySelectorAll("#carousel .slide").forEach(n=>{let o="carousel-slide-"+d;n.id=o;let s=document.createElement("a");t.push(s),s.href="#"+o,s.addEventListener("click",O),s.appendChild(document.createElement("li")),g.appendChild(s),d++,e===null&&(e=s,c(e,!0))});const j=()=>{const s=t.length;for(var n=0;n<s;n++)if(t[n]==e)return n;return-1},m=d;o=null,s=()=>{if(m===0)return;o!=null&&(clearTimeout(o),o=null),o=setTimeout(()=>{if(e!=null){let e=j();e<0&&(e=0),e++,e>=m&&(e=0),t[e].click()}else s()},w)},s();const p=e=>{var s,t=e.elements,o=Object.keys(t).filter(function(e){return t[e].name!=="honeypot"||(s=t[e].value,!1)}).map(function(e){if(t[e].name!==0[0])return t[e].name;if(t[e].length>0)return t[e].item(0).name}).filter(function(e,t,n){return n.indexOf(e)==t&&e}),n={};return o.forEach(function(e){var o,i,a,s=t[e];if(n[e]=s.value,s.length){for(a=[],o=0;o<s.length;o++)i=s.item(o),(i.checked||i.selected)&&a.push(i.value);n[e]=a.join(", ")}}),{data:n,honeypot:s}},h=document.getElementById("form-submit-status"),v=h.getElementsByClassName("success")[0],b=h.getElementsByClassName("error")[0],r=[-1,-1];let u=null;const n=(e,t,n)=>{const s=e?b:v;u!=null&&u!==s&&(u.style.display="none"),s.classList.add("visible"),s.style.display="inline-block",t!=null&&(s.innerText=t);const o=e?0:1;r[o]!=-1&&clearTimeout(r[o]),r[o]=setTimeout(()=>{r[o]=-1,s.classList.remove("visible")},n??1e4)},y=e=>{for(var t=e.querySelectorAll("button"),n=0;n<t.length;n++)t[n].disabled=!0;setTimeout(()=>{for(var e=0;e<t.length;e++)t[e].disabled=!1},15e3)},_=e=>{e.preventDefault();var t,a,r,o=e.target,i=p(o),s=i.data;if(i.honeypot)return!1;if(s.name==null||s.length==0){n(!0,"Meno je povinné");return}if(s.phone==null||s.phone.length<4){n(!0,"Telefónne číslo je povinné");return}if(s.msg==null||s.msg.length<10){n(!0,"Správa musí obsahovať aspoň 10 znakov");return}y(o),a=o.action,t=new XMLHttpRequest,t.open("POST",a),t.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),t.onreadystatechange=function(){if(t.readyState===4&&t.status===200){var e=JSON.parse(t.responseText);console.log(e),n(!1)}},t.onerror=function(){n(!0,"Chyba pri odosielaní formulára")},r=Object.keys(s).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(s[e])}).join("&"),t.send(r)};for(l=document.querySelectorAll("form.gform"),a=0;a<l.length;a++)l[a].addEventListener("submit",_,!1)})()