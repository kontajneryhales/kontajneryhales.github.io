"use strict";(function(){document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault(),document.querySelector(this.getAttribute("href")).scrollIntoView({behavior:"smooth"})})});let w=document.getElementById("carousel-picker");var n,s,i,a,r,d=0,e=null;const l=(e,t)=>{if(console.assert(t!==0[0]),e!=null&&e.childNodes!=null&&e.childNodes[0]!=null&&e.childNodes[0].classList!=null){const n="selected";let s=e.childNodes[0].classList;t===!0?s.add(n):s.remove(n)}},m=1e4;let _=document.getElementById("carousel-view"),b=t=>{t.preventDefault(),t.currentTarget!=e&&l(e,!1),l(t.currentTarget,!0),e=t.currentTarget;let n=document.querySelector(e.getAttribute("href"));_.scrollLeft=n.offsetLeft,i()};s=[],document.querySelectorAll("#carousel .slide").forEach(t=>{let o="carousel-slide-"+d;t.id=o;let n=document.createElement("a");s.push(n),n.href="#"+o,n.addEventListener("click",b),n.appendChild(document.createElement("li")),w.appendChild(n),d++,e===null&&(e=n,l(e,!0))});const v=()=>{const n=s.length;for(var t=0;t<n;t++)if(s[t]==e)return t;return-1},h=d;n=null,i=()=>{if(h===0)return;n!=null&&(clearTimeout(n),n=null),n=setTimeout(()=>{if(e!=null){let e=v();e<0&&(e=0),e++,e>=h&&(e=0),s[e].click()}else i()},m)},i();const g=e=>{var s,t=e.elements,o=Object.keys(t).filter(function(e){return t[e].name!=="honeypot"||(s=t[e].value,!1)}).map(function(e){if(t[e].name!==0[0])return t[e].name;if(t[e].length>0)return t[e].item(0).name}).filter(function(e,t,n){return n.indexOf(e)==t&&e}),n={};return o.forEach(function(e){var o,i,a,s=t[e];if(n[e]=s.value,s.length){for(a=[],o=0;o<s.length;o++)i=s.item(o),(i.checked||i.selected)&&a.push(i.value);n[e]=a.join(", ")}}),{data:n,honeypot:s}},u=document.getElementById("form-submit-status"),f=u.getElementsByClassName("success")[0],p=u.getElementsByClassName("error")[0],o=[-1,-1];let c=null;const t=(e,t,n)=>{const s=e?p:f;c!=null&&c!==s&&(c.style.display="none"),s.classList.add("visible"),s.style.display="inline-block",t!=null&&(s.innerText=t);const i=e?0:1;o[i]!=-1&&clearTimeout(o[i]),o[i]=setTimeout(()=>{o[i]=-1,s.classList.remove("visible")},n??1e4)},j=e=>{for(var t=e.querySelectorAll("button"),n=0;n<t.length;n++)t[n].disabled=!0;setTimeout(()=>{for(var e=0;e<t.length;e++)t[e].disabled=!1},15e3)},y=e=>{e.preventDefault();var n,a,r,o=e.target,i=g(o),s=i.data;if(i.honeypot)return!1;if(s.name==null||s.length==0){t(!0,"Meno je povinné");return}if(s.phone==null||s.phone.length<4){t(!0,"Telefónne číslo je povinné");return}if(s.msg==null||s.msg.length<10){t(!0,"Správa musí obsahovať aspoň 10 znakov");return}j(o),a=o.action,n=new XMLHttpRequest,n.open("POST",a),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),n.onreadystatechange=function(){if(n.readyState===4&&n.status===200){var e=JSON.parse(n.responseText);console.log(e),t(!1)}},n.onerror=function(){t(!0,"Chyba pri odosielaní formulára")},r=Object.keys(s).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(s[e])}).join("&"),n.send(r)};for(r=document.querySelectorAll("form.gform"),a=0;a<r.length;a++)r[a].addEventListener("submit",y,!1)})()