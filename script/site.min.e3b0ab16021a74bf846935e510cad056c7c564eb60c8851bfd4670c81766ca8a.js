"use strict";(function(){document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault(),document.querySelector(this.getAttribute("href")).scrollIntoView({behavior:"smooth"})})});const w=document.getElementById("carousel-picker");let d=0,s,e=null;const o=(e,t)=>{if(console.assert(t!==0[0]),e!=null&&e.childNodes!=null&&e.childNodes[0]!=null&&e.childNodes[0].classList!=null){const n="selected";let s=e.childNodes[0].classList;t===!0?s.add(n):s.remove(n)}},f=1e4,n=document.getElementById("carousel-view"),_=t=>{t.preventDefault(),t.currentTarget!=e&&o(e,!1),o(t.currentTarget,!0),e=t.currentTarget;let i=document.querySelector(e.getAttribute("href"));n.scrollLeft=i.offsetLeft,s()};var a,r,l,t=[];document.querySelectorAll("#carousel .slide").forEach(n=>{let i="carousel-slide-"+d;n.id=i;let s=document.createElement("a");t.push(s),s.href="#"+i,s.addEventListener("click",_),s.appendChild(document.createElement("li")),w.appendChild(s),d++,e===null&&(e=s,o(e,!0))});const b=()=>{const s=t.length;for(var n=0;n<s;n++)if(t[n]==e)return n;return-1},h=d;a=0[0],s=()=>{if(h===0)return;clearTimeout(a),a=setTimeout(()=>{if(e!=null){let e=b();e<0&&(e=0),e++,e>=h&&(e=0),t[e].click()}else s()},f)},s(),n.addEventListener("touchstart",e=>{clearTimeout(a),a=0[0]}),n.addEventListener("touchend",e=>{s()}),n.addEventListener("scroll",s=>{const a=n.scrollWidth/t.length,i=Math.round(n.scrollLeft/a);if(i<t.length){const n=t[i];n!=e&&(o(e,!1),o(n,!0),e=n)}});const v=e=>{var s,t=e.elements,o=Object.keys(t).filter(function(e){return t[e].name!=="honeypot"||(s=t[e].value,!1)}).map(function(e){if(t[e].name!==0[0])return t[e].name;if(t[e].length>0)return t[e].item(0).name}).filter(function(e,t,n){return n.indexOf(e)==t&&e}),n={};return o.forEach(function(e){var o,i,a,s=t[e];if(n[e]=s.value,s.length){for(a=[],o=0;o<s.length;o++)i=s.item(o),(i.checked||i.selected)&&a.push(i.value);n[e]=a.join(", ")}}),{data:n,honeypot:s}},m=document.getElementById("form-submit-status"),g=m.getElementsByClassName("success")[0],p=m.getElementsByClassName("error")[0],c=[-1,-1];let u=null;const i=(e,t,n)=>{const s=e?p:g;u!=null&&u!==s&&(u.style.display="none"),s.classList.add("visible"),s.style.display="inline-block",t!=null&&(s.innerText=t);const o=e?0:1;c[o]!=-1&&clearTimeout(c[o]),c[o]=setTimeout(()=>{c[o]=-1,s.classList.remove("visible")},n??1e4)},j=e=>{for(var t=e.querySelectorAll("button"),n=0;n<t.length;n++)t[n].disabled=!0;setTimeout(()=>{for(var e=0;e<t.length;e++)t[e].disabled=!1},15e3)},y=e=>{e.preventDefault();var t,a,r,s=e.target,o=v(s),n=o.data;if(o.honeypot)return!1;if(n.name==null||n.length==0){i(!0,"Meno je povinné");return}if(n.phone==null||n.phone.length<4){i(!0,"Telefónne číslo je povinné");return}if(n.msg==null||n.msg.length<10){i(!0,"Správa musí obsahovať aspoň 10 znakov");return}j(s),a=s.action,t=new XMLHttpRequest,t.open("POST",a),t.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),t.onreadystatechange=function(){if(t.readyState===4&&t.status===200){var e=JSON.parse(t.responseText);console.log(e),i(!1)}},t.onerror=function(){i(!0,"Chyba pri odosielaní formulára")},r=Object.keys(n).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(n[e])}).join("&"),t.send(r)};for(l=document.querySelectorAll("form.gform"),r=0;r<l.length;r++)l[r].addEventListener("submit",y,!1)})()